* Manjaro基本設定
** システムのアップデート
*** $ sudo pacman -Syu
** レポジトリと同期
*** $ sudo pacman -Syy
** yaourtのインストール
*** $ sudo pacman -S yaourt
** zsh, zsh-completions, w3m
** vim-minimal, viを削除
** その他のパッケージ
*** git, corkscrew, meld, nkf, pwgen, tree, lilyterm, vte3, xsel, xbindkeys, xdotool, aspell, aspell-en
*** OpenJDK 8
**** $ yaourt -R jre7-openjdk (関連パッケージも消す)
**** $ yaourt jdk8-openjdk
** conffiles
*** $ mkdir ~/code
*** $ git clone https://github.com/skirino/conffiles ~/code/conffiles
*** $ ~/code/conffiles/setup.sh
*** $ chsh (zshに切り替え)
** emacsをソースからコンパイル、バイナリにパスを通す
** 以下のファイル群を配置(setup.sh)
*** ~/.gitconfig
*** ~/.zshrc
*** ~/.profile
*** ~/.emacs.d
*** ~/.vimrc
*** ~/.setarc
*** ~/.ssh
*** ~/.xprofile (xwindow.org参照)
** VBoxServiceをsystemdから起動する(時刻のsync, shared folderのmountのため)
*** $ sudo systemctl enable vboxservice.service
* local DNS server
** localhostのsubdomainをすべて127.0.0.1へmapする
** $ yaourt dnsmasq
** /etc/resolvconf.conf に以下を追加
*** `name_servers=127.0.0.1`
*** dnsmasq_resolv=/etc/dnsmasq-resolv.conf
** $ sudo resolvconf -u で変更内容を反映
** /etc/dnsmasq.confを編集し以下のようになるようにする
*** `resolv-file=/etc/dnsmasq-resolv.conf`
*** `address=/localhost/127.0.0.1`
*** `listen-address=127.0.0.1`
* gnome/gtkのkeybinding設定
** $ gsettings set org.gnome.desktop.interface gtk-key-theme Emacs
** 以下のような感じでgtk-3のデフォルトキーバインドを変更
*** $ vi ~/.config/gtk-3.0/settings.ini
#+BEGIN_SRC
[Settings]
gtk-key-theme-name = Emacs
#+END_SRC
*** $ sudo vim /usr/share/themes/Emacs/gtk-3.0/gtk-keys.css
#+BEGIN_SRC
  /* commented out/modified by skirino (start)
  bind "<ctrl>w" { "delete-from-cursor" (word-ends, -1) };
  bind "<ctrl>k" { "delete-from-cursor" (paragraph-ends, 1) };
  bind "<ctrl>u" { "move-cursor" (paragraph-ends, -1, 0)
                   "delete-from-cursor" (paragraph-ends, 1) };
  */
  bind "<ctrl>k" { "move-cursor" (paragraph-ends,  1, 1)
                   "cut-clipboard" () };
  bind "<ctrl>u" { "move-cursor" (paragraph-ends, -1, 1)
                   "cut-clipboard" () };
  bind "<alt>w" { "copy-clipboard" () };
  /* commented out/modified by skirino (end) */
#+END_SRC
* クリーンアップ
** (無事にグラフィカル環境が起動することを確認)
** xfce由来のパッケージを削除
