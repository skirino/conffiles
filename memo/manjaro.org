* Manjaro基本設定
** システムのアップデート
*** $ sudo pacman -Syu
** レポジトリと同期
*** $ sudo pacman -Syy
** yaourtのインストール
*** $ sudo pacman -S yaourt
** zsh, zsh-completions, w3m
** vim-minimal, viを削除
** その他のパッケージ
*** git, tig, corkscrew, meld, nkf, pwgen, tree, lilyterm, vte3, xsel, xdotool, aspell, aspell-en, erlang
*** OpenJDK 8
**** $ yaourt -R jre7-openjdk (関連パッケージも消す)
**** $ yaourt jdk8-openjdk
** conffiles
*** $ mkdir ~/code
*** $ git clone https://github.com/skirino/conffiles ~/code/conffiles
*** $ ~/code/conffiles/setup.sh
*** $ chsh (zshに切り替え)
** emacsをソースからコンパイル、バイナリにパスを通す
** 以下のファイル群を配置(setup.sh)
*** ~/.gitconfig
*** ~/.zshrc
*** ~/.profile
*** ~/.emacs.d
*** ~/.vimrc
*** ~/.setarc
*** ~/.ssh
*** ~/.xprofile (xwindow.org参照)
** VBoxServiceをsystemdから起動する(時刻のsync, shared folderのmountのため)
*** $ sudo systemctl enable vboxservice.service
** PostgreSQL初期化
*** $ yaourt postgres
*** /var/lib/postgres/data/postgresql.conf で種々のロケール設定をen_USにしておく
*** $ sudo -i -u postgres
*** $ initdb --locale ja_JP.UTF-8 -E UTF8 -D '/var/lib/postgres/data'
*** $ sudo systemctl start postgresql
*** $ sudo systemctl enable postgresql
* クリーンアップ
** (無事にグラフィカル環境が起動することを確認)
** xfce由来のパッケージを削除
* gnome/gtkのkeybinding設定
** $ gsettings set org.gnome.desktop.interface gtk-key-theme Emacs
* local DNS server
** localhostのsubdomainをすべて127.0.0.1へmapする
** $ yaourt dnsmasq
** /etc/resolvconf.conf に以下を追加
*** `name_servers=127.0.0.1`
*** dnsmasq_resolv=/etc/dnsmasq-resolv.conf
** $ sudo resolvconf -u で変更内容を反映
** /etc/dnsmasq.confを編集し以下のようになるようにする
*** `resolv-file=/etc/dnsmasq-resolv.conf`
*** `address=/localhost/127.0.0.1`
*** `listen-address=127.0.0.1`
